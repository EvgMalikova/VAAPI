<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VAAPI: An h1 header</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VAAPI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">An h1 header </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Below is simple program, creating SDF box primitive. For syntacsis comparison with simple VTK primitive creation look <a href="https://vtk.org/Wiki/VTK/Examples/Cxx/GeometricObjects/Cylinder">wiki</a>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;optixWindow.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;optixSDFPrimitives.h&quot;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">int</span>  windowWidth  = 512;</div>
<div class="line">  <span class="keywordtype">int</span>  windowHeight = 512;</div>
<div class="line">  </div>
<div class="line">  PinholeCamera pinholeCamera; <span class="comment">//creates basic camera</span></div>
<div class="line"> </div>
<div class="line">  contextManager m;</div>
<div class="line">  m.Update();<span class="comment">//creates context</span></div>
<div class="line"> </div>
<div class="line">  optixRenderer ren;</div>
<div class="line">  ren.SetValid(m.GetValid());</div>
<div class="line">  ren.SetContext(m.GetOutput());<span class="comment">//m returns the context</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  ren.SetOpticalDims(windowWidth, windowWidth);</div>
<div class="line">  ren.SetCamera(&amp;pinholeCamera);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="comment">//set not dynamic</span></div>
<div class="line">  ren.SetDynamic(<span class="keyword">false</span>);</div>
<div class="line">  ren.SetAuditory(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="comment">//window procedure</span></div>
<div class="line"> </div>
<div class="line">  GLFW_Window optixWindowProc; </div>
<div class="line">  </div>
<div class="line"> </div>
<div class="line">  optixWindowProc.SetDim(windowWidth, windowHeight);</div>
<div class="line">  optixWindowProc.SetRenderer(&amp;ren);</div>
<div class="line">  optixWindowProc.SetContext(m.GetOutput()); </div>
<div class="line">  optixWindowProc.SetCamera(&amp;pinholeCamera);</div>
<div class="line"> </div>
<div class="line">  RenderWindowInteractor iren; <span class="comment">//TODO always check that basic still works</span></div>
<div class="line">  iren.SetWindow(&amp;optixWindowProc);</div>
<div class="line">  </div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;DONE WITH WINDOW&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span> (iren.SetUp()) <span class="comment">//update of WindowProc is successful, we can start scene creation with predefined rendering parameters</span></div>
<div class="line">  {</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;START MAIN LOOP&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//Scene creation</span></div>
<div class="line">      <span class="keywordflow">try</span></div>
<div class="line">      {</div>
<div class="line">          </div>
<div class="line"> </div>
<div class="line">          </div>
<div class="line">          optixSDFBox sdf;</div>
<div class="line">          sdf.SetContext(m.GetOutput());</div>
<div class="line">          sdf.SetCenter1(optix::make_float3(0));</div>
<div class="line">          sdf.SetDims(optix::make_float3(0.3,1.0,3.0));</div>
<div class="line">          sdf.Update();</div>
<div class="line">          std::cout &lt;&lt; <span class="stringliteral">&quot;BOX created&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">          SDFMaterial mSdf;</div>
<div class="line">          mSdf.SetContext(m.GetOutput());</div>
<div class="line">          mSdf.Update();</div>
<div class="line">          std::cout &lt;&lt; <span class="stringliteral">&quot;MATERIAL created&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">          <a class="code" href="classoptix_mapper.html">optixMapper</a> map21;</div>
<div class="line">          map21.SetContext(m.GetOutput());</div>
<div class="line">          map21.<a class="code" href="classoptix_mapper.html#a06c1a3c44d921b7a7ba97ee8ddd5f9a7">SetInput</a>(sdf.GetOutput());</div>
<div class="line">          map21.<a class="code" href="classoptix_mapper.html#ac167a282829fa8e62788f26c9081672e">AddMaterial</a>(mSdf.GetOutput(), mSdf.GetType());</div>
<div class="line">          map21.<a class="code" href="classoptix_mapper.html#a5fa48f5c682185e54046d3e047218913">Update</a>();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">          optixSdfActor acSdf1;</div>
<div class="line">          acSdf1.SetContext(m.GetOutput());</div>
<div class="line">          acSdf1.AddMapper(&amp;map21);</div>
<div class="line">          acSdf1.Update();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">          ren.AddActor(&amp;acSdf1);</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">catch</span> (optix::Exception&amp; e)</div>
<div class="line">      {</div>
<div class="line">          std::cerr &lt;&lt; e.getErrorString() &lt;&lt; std::endl;</div>
<div class="line">      }</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;DONE WITH SCENE&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//Main loop</span></div>
<div class="line">      iren.Start();</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;MAIN LOOP STARTED&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output of the program is:</p>
<div class="image">
<img src="box.png" alt=""/>
<div class="caption">
Rendered SDF box</div></div>
   <p>A more complex example is below:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;optixWindow.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;optixSDFPrimitives.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;optixSDFOperations.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">  <span class="keywordtype">int</span>  windowWidth  = 512;</div>
<div class="line">  <span class="keywordtype">int</span>  windowHeight = 512;</div>
<div class="line">  </div>
<div class="line">  PinholeCamera pinholeCamera; <span class="comment">//creates basic camera</span></div>
<div class="line"> </div>
<div class="line">  contextManager m;</div>
<div class="line">  m.Update();<span class="comment">//creates context</span></div>
<div class="line"> </div>
<div class="line">  optixRenderer ren;</div>
<div class="line">  ren.SetValid(m.GetValid());</div>
<div class="line">  ren.SetContext(m.GetOutput());</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  ren.SetOpticalDims(windowWidth, windowWidth);</div>
<div class="line">  ren.SetCamera(&amp;pinholeCamera);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="comment">//set not dynamic</span></div>
<div class="line">  ren.SetDynamic(<span class="keyword">false</span>);</div>
<div class="line">  ren.SetAuditory(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="comment">//window procedure</span></div>
<div class="line"> </div>
<div class="line">  GLFW_Window optixWindowProc; </div>
<div class="line">  </div>
<div class="line"> </div>
<div class="line">  optixWindowProc.SetDim(windowWidth, windowHeight);</div>
<div class="line">  optixWindowProc.SetRenderer(&amp;ren);</div>
<div class="line">  optixWindowProc.SetContext(m.GetOutput()); <span class="comment">//returns context</span></div>
<div class="line">  optixWindowProc.SetCamera(&amp;pinholeCamera);</div>
<div class="line"> </div>
<div class="line">  RenderWindowInteractor iren; <span class="comment">//TODO always check that basic still works</span></div>
<div class="line">  iren.SetWindow(&amp;optixWindowProc);</div>
<div class="line">  </div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;DONE WITH WINDOW&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span> (iren.SetUp()) <span class="comment">//update of WindowProc</span></div>
<div class="line">  {</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;START MAIN LOOP&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//Scene creation</span></div>
<div class="line">      <span class="keywordflow">try</span></div>
<div class="line">      {</div>
<div class="line">          </div>
<div class="line"> </div>
<div class="line">          </div>
<div class="line">          optixSDFBox sdf;</div>
<div class="line">          sdf.SetContext(m.GetOutput());</div>
<div class="line">          sdf.SetCenter1(optix::make_float3(1.0));</div>
<div class="line">          sdf.SetDims(optix::make_float3(0.3));</div>
<div class="line">          sdf.Update();</div>
<div class="line">          <span class="keyword">const</span> <span class="keywordtype">int</span> nums = 10;</div>
<div class="line">          SDFRoundingOp round[nums];</div>
<div class="line">          round[0].SetContext(m.GetOutput());</div>
<div class="line">          round[0].AddOpperand(&amp;sdf);</div>
<div class="line">          round[0].SetKoeff(0.01);</div>
<div class="line">          round[0].Update();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nums; i++)</div>
<div class="line">          {</div>
<div class="line"> </div>
<div class="line">              round[i].SetContext(m.GetOutput());</div>
<div class="line"> </div>
<div class="line">              round[i].AddOpperand(round[i - 1].GetOutputSdfObject());<span class="comment">// &amp;sdf);</span></div>
<div class="line">              round[i].SetKoeff(0.01*i);</div>
<div class="line">              round[i].Update();</div>
<div class="line"> </div>
<div class="line">          }</div>
<div class="line"> </div>
<div class="line">          optixSDFTorus sdfT;</div>
<div class="line">          sdfT.SetContext(m.GetOutput());</div>
<div class="line">          sdfT.SetCenter1(optix::make_float3(0.0));</div>
<div class="line">          sdfT.SetRadius1(optix::make_float2(0.4, 0.1));</div>
<div class="line">          sdfT.Update();</div>
<div class="line"> </div>
<div class="line">          SDFElongateOp el;</div>
<div class="line"> </div>
<div class="line">          el.SetContext(m.GetOutput());</div>
<div class="line">          el.AddOpperand(&amp;sdfT);</div>
<div class="line">          el.SetHKoeff(optix::make_float3(0.0, 1.0, 2.1));</div>
<div class="line">          el.Update();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">          SDFBlendUnionOp opBlend;</div>
<div class="line">          opBlend.SetContext(m.GetOutput());</div>
<div class="line">          opBlend.AddOpperand1(&amp;sdf);</div>
<div class="line">          opBlend.AddOpperand2(el.GetOutputSdfObject());</div>
<div class="line">          opBlend.SetKoeff(0.3);</div>
<div class="line">          opBlend.Update();</div>
<div class="line">          </div>
<div class="line"> </div>
<div class="line">          SDFMaterial mSdf;</div>
<div class="line">          mSdf.SetContext(m.GetOutput());</div>
<div class="line">          mSdf.Update();</div>
<div class="line"> </div>
<div class="line">          <a class="code" href="classoptix_mapper.html">optixMapper</a> map21;</div>
<div class="line">          map21.SetContext(m.GetOutput());</div>
<div class="line">          map21.<a class="code" href="classoptix_mapper.html#a06c1a3c44d921b7a7ba97ee8ddd5f9a7">SetInput</a>(sdf.GetOutput());</div>
<div class="line">          map21.<a class="code" href="classoptix_mapper.html#ac167a282829fa8e62788f26c9081672e">AddMaterial</a>(mSdf.GetOutput(), mSdf.GetType());</div>
<div class="line">          map21.<a class="code" href="classoptix_mapper.html#a5fa48f5c682185e54046d3e047218913">Update</a>();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">          optixSdfActor acSdf1;</div>
<div class="line">          acSdf1.SetContext(m.GetOutput());</div>
<div class="line">          acSdf1.AddMapper(&amp;map21);</div>
<div class="line">          acSdf1.Update();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">          ren.AddActor(&amp;acSdf1);</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">catch</span> (optix::Exception&amp; e)</div>
<div class="line">      {</div>
<div class="line">          std::cerr &lt;&lt; e.getErrorString() &lt;&lt; std::endl;</div>
<div class="line">      }</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;DONE WITH SCENE&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//Main loop</span></div>
<div class="line">      iren.Start();</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;MAIN LOOP STARTED&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  </div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The output of the program is :</p>
<div class="image">
<img src="blend.png" alt=""/>
<div class="caption">
Rendered FRep modelled geometry</div></div>
    </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="aclassoptix_mapper_html_a5fa48f5c682185e54046d3e047218913"><div class="ttname"><a href="classoptix_mapper.html#a5fa48f5c682185e54046d3e047218913">optixMapper::Update</a></div><div class="ttdeci">virtual void Update()</div><div class="ttdef"><b>Definition:</b> optixAbstractMaterial.cpp:66</div></div>
<div class="ttc" id="aclassoptix_mapper_html_a06c1a3c44d921b7a7ba97ee8ddd5f9a7"><div class="ttname"><a href="classoptix_mapper.html#a06c1a3c44d921b7a7ba97ee8ddd5f9a7">optixMapper::SetInput</a></div><div class="ttdeci">void SetInput(optix::Geometry g)</div><div class="ttdef"><b>Definition:</b> optixAbstractMaterial.h:155</div></div>
<div class="ttc" id="aclassoptix_mapper_html"><div class="ttname"><a href="classoptix_mapper.html">optixMapper</a></div><div class="ttdoc">A basic mapper that suggest application of one visual and one auditory material to one geometry insta...</div><div class="ttdef"><b>Definition:</b> optixAbstractMaterial.h:149</div></div>
<div class="ttc" id="aclassoptix_mapper_html_ac167a282829fa8e62788f26c9081672e"><div class="ttname"><a href="classoptix_mapper.html#ac167a282829fa8e62788f26c9081672e">optixMapper::AddMaterial</a></div><div class="ttdeci">void AddMaterial(optix::Material m, MaterialDesc desc)</div><div class="ttdef"><b>Definition:</b> optixAbstractMaterial.cpp:127</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
